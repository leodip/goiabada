---
title: Integration
description: Integrate Goiabada with your applications using OAuth2/OpenID Connect.
---

import { LinkCard, CardGrid } from '@astrojs/starlight/components';

To integrate Goiabada with your app, you'll need an **OAuth2/OpenID Connect client library** for your platform. Most platforms provide such libraries.

## Configuration

When configuring your OAuth2/OpenID Connect client to work with Goiabada, you'll typically need:

1. **Client ID** and **Client Secret** (from Goiabada admin console)
2. **Issuer URL** (normally the auth server base URL) - e.g., `https://auth.example.com`
3. **Authorization Endpoint** - `<auth-server-base-url>/auth/authorize`
4. **Token Endpoint** - `<auth-server-base-url>/auth/token`
5. **UserInfo Endpoint** - `<auth-server-base-url>/auth/userinfo`
6. **JWKS URI** - `<auth-server-base-url>/.well-known/jwks.json`
7. **End Session Endpoint** - `<auth-server-base-url>/auth/logout`

Most libraries support automatic configuration via the **OpenID Connect Discovery** endpoint at `<auth-server-base-url>/.well-known/openid-configuration`.

## Sample integrations

The Goiabada GitHub repository includes sample integrations for various platforms:

### JavaScript (browser-only, no server)

A browser-based JavaScript [test client](https://github.com/leodip/goiabada/tree/main/test-integrations/js-only) using the [oauth4webapi](https://github.com/panva/oauth4webapi) library. This is a pure client-side application (no backend) that demonstrates the **Authorization Code Flow with PKCE**, which is the recommended flow for public clients like single-page applications.

The test client allows you to:
- Configure OAuth2 parameters (issuer, client ID, scopes, ACR values, etc.)
- Execute the full authorization code flow step by step
- Exchange the authorization code for tokens
- Refresh tokens using the refresh token grant
- Call the userinfo endpoint
- Inspect decoded JWT tokens (access token, ID token, refresh token)

To use this client, configure a **public client** in Goiabada with the redirect URI `http://localhost:8090/callback.html` and web origin `http://localhost:8090` (required for CORS).

### Go web application

A server-side Go [web application](https://github.com/leodip/goiabada/tree/main/test-integrations/go-webapp) demonstrating the **Authorization Code Flow with PKCE**. This example shows how to integrate Goiabada with a traditional web application that has a backend server.

The test application demonstrates:
- **Authorization Code Flow with PKCE** - The recommended flow for confidential clients
- **Scope selection** - Request standard OIDC scopes (openid, profile, email, etc.) and custom scopes
- **ACR values** - Request specific authentication levels (password only, optional 2FA, mandatory 2FA)
- **max_age parameter** - Force re-authentication after a specified time
- **Response modes** - Choose between `form_post` and `query` response modes
- **Token verification** - Verify ID tokens, access tokens, and refresh tokens using JWKS
- **Token refresh** - Exchange refresh tokens for new access tokens
- **UserInfo endpoint** - Fetch user claims using the access token
- **Protected routes** - Require authentication and/or specific scopes to access pages
- **RP-initiated logout** - Properly log out users from both the application and Goiabada

To use this application, configure a **confidential client** in Goiabada with redirect URI `http://localhost:3000/callback` and post-logout redirect URI `http://localhost:3000/`.

### React SPA with Vite and Node.js

A [React application](https://github.com/leodip/goiabada/tree/main/test-integrations/react-vite) demonstrating authentication and role (group) based authorization with token auto-refresh.

## API endpoints

<CardGrid>
  <LinkCard
    title="Endpoints reference"
    description="Complete API documentation for OAuth2/OIDC endpoints."
    href="/integration/endpoints/"
  />
</CardGrid>
